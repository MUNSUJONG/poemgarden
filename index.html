
<!-- âš ï¸ ë°˜ë“œì‹œ body ì•„ë˜ì— ìˆì–´ì•¼ í•¨ -->
<script src="https://sdk.minepi.com/pi-sdk.js"></script>
<script>
  // ì „ì²´ DOMì´ ë¡œë”©ëœ í›„ SDK ì´ˆê¸°í™”
  document.addEventListener("DOMContentLoaded", function () {
    Pi.init({
      version: "2.0",
      sandbox: true  // í…ŒìŠ¤íŠ¸ë„·
    });

    // ë²„íŠ¼ì´ SDK ì´ˆê¸°í™” ì´í›„ì—ë§Œ ì‘ë™í•˜ê²Œ ì—°ê²°
    document.getElementById("loginBtn").onclick = function () {
      Pi.authenticate(['username'], function(authResult) {
        alert("ë¡œê·¸ì¸ ì„±ê³µ: " + JSON.stringify(authResult));
      }, function(error) {
        alert("ë¡œê·¸ì¸ ì‹¤íŒ¨: " + error);
      });
    };

    document.getElementById("payBtn").onclick = function () {
      Pi.createPayment({
        amount: 0.01,
        memo: "ê°ì„± ë©”ì‹œì§€ ê²°ì œ",
        metadata: { type: "message", content: "ğŸŒ¸ ê°ì„± ì •ì› ë©”ì‹œì§€" },
      }, {
        onReadyForServerApproval: function(paymentId) {
          alert("ìŠ¹ì¸ í•„ìš”: " + paymentId);
        },
        onReadyForServerCompletion: function(paymentId, txid) {
          alert("ê²°ì œ ì™„ë£Œ! TXID: " + txid);
        },
        onCancel: function(paymentId) {
          alert("ê²°ì œ ì·¨ì†Œë¨");
        },
        onError: function(error, paymentId) {
          alert("ê²°ì œ ì‹¤íŒ¨: " + error);
        }
      });
    };
  });
</script>
