<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🌸 파이 감성정원</title>
  <style>
    body {
      background-color: #fdf6f9;
      font-family: 'Noto Sans KR', sans-serif;
      padding: 30px;
      color: #333;
    }
    .intro-box, .section-box {
      background-color: #fff;
      padding: 25px;
      margin-bottom: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      font-size: 17px;
      line-height: 1.8;
    }
    .main-button {
      padding: 12px 24px;
      font-size: 16px;
      background-color: #e91e63;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    .footer-links {
      font-size: 14px;
      margin-top: 40px;
    }
    .footer-links a {
      margin-right: 15px;
      color: #888;
      text-decoration: none;
    }
    .footer-links a:hover {
      color: #e91e63;
    }
  </style>
</head>
<body>
  <h1 style="color: #c2185b;">🌸 파이 감성정원에 오신 것을 환영합니다</h1>

  <div class="intro-box">
    파이 감성정원은 당신의 감정을 꽃과 시로 표현하고,<br/>
    감성적인 하루를 나만의 정원에 심어가는 특별한 공간입니다.<br/>
    감정을 선택하면 오늘의 꽃과 시가 피어나고,<br/>
    친구와 감정을 나누며 감성지도를 만들어갈 수 있습니다.<br/><br/>
    <em>감성은 나눌수록 피어납니다.</em><br/>
    <em>당신의 마음을 정원에 심어보세요.</em>
  </div>

  <div class="section-box">
    <h2>🌼 오늘의 꽃 추천</h2>
    <p id="flowerName">꽃: 로딩 중...</p>
    <p id="flowerMeaning">꽃말: </p>
    <p id="flowerPoem" style="font-style: italic; color: #888;"></p>
  </div>

  <div class="section-box">
    <h2>📩 감성 메시지</h2>
    <p id="emotionMessage" style="font-weight: bold; color: #555;">감성 메시지를 불러오는 중...</p>
  </div>

  <div class="section-box">
    <h2>💳 Pi 테스트 결제</h2>
    <p>아래 버튼을 눌러 <strong>0.01π 테스트 결제</strong>를 진행해보세요.</p>
    <button class="main-button" onclick="makePayment()">0.01π 결제하기</button>
  </div>

  <div class="footer-links">
    📄 <a href="개인정보 보호.html" target="_blank">개인정보 처리방침</a>
    📘 <a href="용어.html" target="_blank">용어 정리</a>
  </div>

  <script>
    // 🌸 365일 꽃 데이터 일부 예시
    const flowerData = {
      "07-17": {
        flower: "능소화",
        meaning: "그리움, 기다림",
        poem: "기다림이란 말을 꽃으로 배웠다<br>당신이 올 줄도 모르고<br>나는 여름 내내 피어 있었다"
      },
      "07-18": {
        flower: "나팔꽃",
        meaning: "덧없는 사랑",
        poem: "아침이 오기 전<br>한 번 피고 지는 사랑을 배운다"
      }
    };

    function showTodayFlower() {
      const today = new Date();
      const key = String(today.getMonth() + 1).padStart(2, '0') + '-' + String(today.getDate()).padStart(2, '0');
      const data = flowerData[key];
      if (data) {
        document.getElementById('flowerName').textContent = `꽃: ${data.flower}`;
        document.getElementById('flowerMeaning').textContent = `꽃말: ${data.meaning}`;
        document.getElementById('flowerPoem').innerHTML = data.poem;
      } else {
        document.getElementById('flowerName').textContent = "🌸 꽃 정보가 아직 준비되지 않았습니다.";
      }
    }

    // 💬 감성 메시지 랜덤
    const messages = [
      "오늘 당신의 마음에도 작은 꽃이 피길 바라요.",
      "조용히 피어난 감정이, 오늘 하루를 바꿔줄 거예요.",
      "당신은 충분히 아름답습니다. 잊지 마세요.",
      "가장 따뜻한 감성은, 나눌 때 완성됩니다.",
      "숨겨둔 감정을 정원에 심어보세요.",
      "오늘의 당신은 누구보다 특별해요."
    ];

    function showEmotionMessage() {
      const rand = Math.floor(Math.random() * messages.length);
      document.getElementById("emotionMessage").textContent = messages[rand];
    }

    // 💳 결제 함수
    function makePayment() {
      alert("📢 Pi 테스트 결제 기능은 Pi 브라우저에서만 작동합니다.\n로그인 후 테스트를 진행해주세요.");
      // 실제 Pi SDK 연동 가능 (테스트넷 연결 예정)
    }

    // 🔔 감성 메시지 예약 팝업
    setTimeout(() => {
      alert("🌷 감성 메시지 도착!\n\n오늘도 당신은 충분히 빛나고 있습니다.");
    }, 15000); // 15초 후 자동 팝업

    window.onload = function() {
      showTodayFlower();
      showEmotionMessage();
    };
  </script>
</body>
</html>
