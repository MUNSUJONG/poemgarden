<script>
  async function makePayment() {
    try {
      const scopes = ['username', 'payments'];
      const user = await Pi.authenticate(scopes, function(payload) {
        console.log("ì¸ì¦ëœ ì‚¬ìš©ì:", payload);
      });

      const payment = await Pi.createPayment({
        amount: 0.01,
        memo: "íŒŒì´ ê°ì„±ì •ì› í…ŒìŠ¤íŠ¸ ê²°ì œ",
        metadata: { purpose: "test" }
      }, {
        onReadyForServerApproval: function(paymentId) {
          console.log("âœ… ì„œë²„ ìŠ¹ì¸ ì¤€ë¹„ ì™„ë£Œ:", paymentId);
        },
        onReadyForServerCompletion: function(paymentId, txid) {
          console.log("ğŸ‰ ê²°ì œ ì™„ë£Œ ì¤€ë¹„ë¨:", paymentId, txid);
        },
        onCancel: function(paymentId) {
          alert("âŒ ì‚¬ìš©ìê°€ ê²°ì œë¥¼ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.");
        },
        onError: function(error, payment) {
          alert("âš ï¸ ê²°ì œ ì¤‘ ì˜¤ë¥˜ ë°œìƒ: " + error);
        }
      });

      console.log("ìµœì¢… ê²°ì œ ê²°ê³¼:", payment);
    } catch (error) {
      alert("ê²°ì œ ì‹¤íŒ¨ ë˜ëŠ” ì·¨ì†Œë¨: " + error);
    }
  }
</script>
