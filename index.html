<script src="https://sdk.minepi.com/pi-sdk.js"></script> <!-- ① Pi SDK -->
<script>
  Pi.init({ version: "2.0" });                             <!-- ② 반드시 init 먼저 -->
  
  async function makePayment() {
    const scopes = ['username', 'payments'];
    const user = await Pi.authenticate(scopes, (payload) => {
      console.log(payload);
    });

    await Pi.createPayment(                               <!-- ③ createPayment는 마지막 -->
      { amount: 0.01, memo: "테스트", metadata: { type: "test" } },
      {
        onReadyForServerApproval: paymentId => {},
        onReadyForServerCompletion: (paymentId, txid) => {},
        onCancel: paymentId => {},
        onError: (error, payment) => {},
      }
    );
  }
</script>
