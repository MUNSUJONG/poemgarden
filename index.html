
<!DOCTYPE html>
<html>
<head>
  <title>Pi ê²°ì œ í…ŒìŠ¤íŠ¸</title>
  <meta charset="UTF-8" />
  <script defer src="https://sdk.minepi.com/pi-sdk.js"></script>
</head>
<body>
  <h1>ğŸŒ¸ ê°ì„±ì •ì› í…ŒìŠ¤íŠ¸ ê²°ì œ</h1>
  <button id="payBtn">í…ŒìŠ¤íŠ¸ ê²°ì œí•˜ê¸°</button>

  <script>
    document.addEventListener("DOMContentLoaded", async () => {
      try {
        const Pi = window.Pi;
        await Pi.init({
          version: "2.0",
          sandbox: true
        });

        document.getElementById("payBtn").addEventListener("click", async () => {
          alert("ğŸ”” ê²°ì œ ì‹œì‘!");

          const payment = await Pi.createPayment(
            {
              amount: 0.01,
              memo: "ê°ì„±ì •ì› í…ŒìŠ¤íŠ¸ ê²°ì œ",
              metadata: { note: "test" }
            },
            {
              onReadyForServerApproval: (paymentId) => {
                console.log("ìŠ¹ì¸ ëŒ€ê¸°:", paymentId);
              },
              onReadyForServerCompletion: (paymentId, txid) => {
                console.log("ì™„ë£Œ ëŒ€ê¸°:", paymentId, txid);
              },
              onCancel: (paymentId) => {
                alert("âŒ ê²°ì œ ì·¨ì†Œë¨");
              },
              onError: (error) => {
                alert("ğŸš« ì˜¤ë¥˜ ë°œìƒ: " + error.message);
              }
            }
          );

          await payment.approve();
        });
      } catch (err) {
        alert("ğŸš¨ Pi SDK ì´ˆê¸°í™” ì‹¤íŒ¨: " + err.message);
      }
    });
  </script>
</body>
</html>
