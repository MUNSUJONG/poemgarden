<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Pi 감성정원 테스트 결제</title>
  <script src="https://sdk.minepi.com/pi-sdk.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (!window.Pi) {
        alert("❌ Pi SDK 로드 실패");
        return;
      }
      Pi.init({ version: "2.0" });
      document.getElementById("payBtn").addEventListener("click", () => {
        alert("🔔 결제 시작!");
        Pi.createPayment({
          amount: 0.01,
          memo: "감성정원 테스트 결제",
          metadata: { purpose: "test" },
          onReadyForServerApproval: (paymentId) => {
            alert("✅ 결제 승인 준비 완료: " + paymentId);
          },
          onReadyForServerCompletion: (paymentId, txid) => {
            alert("🎉 결제 완료! TxID: " + txid);
          },
          onCancel: (paymentId) => {
            alert("❌ 결제 취소: " + paymentId);
          },
          onError: (error) => {
            alert("⚠️ 오류 발생: " + error.message);
          }
        });
      });
    });
  </script>
</head>
<body style="text-align:center; padding:100px;">
  <h1>🌸 감성정원 테스트 결제 🌸</h1>
  <button id="payBtn" style="padding:20px 40px; font-size:18px;">테스트 결제</button>
</body>
</html>
